<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Works</title>
  <link rel="stylesheet" href="styles/common.css">
  <style>
    .work-card { border: 1px solid #ccc; padding: 10px; margin-bottom: 10px; }
    .full-content { display: none; white-space: pre-wrap; background: #fafafa; padding: 10px; margin-top: 5px; border: 1px solid #ddd; }
  </style>
</head>
<body>
  <header id="navbar"></header>
  <h1>All Works</h1>
  <div id="works"></div>

 <script>
  fetch('/api/works')
    .then(res => res.json())
    .then(works => {
      const container = document.getElementById('works');

      works.forEach(w => {
        const div = document.createElement('div');
        div.className = 'work-card';
        div.innerHTML = `
          <h3>${w.title}</h3>
          <img src="${w.cover}" width="120"><br>
          <p><strong>Author:</strong> ${w.author}</p>
          <!-- âœ… Read button now opens read.html in new tab -->
          <button onclick="window.open('read.html?id=${w.id}', '_blank')">Read</button>
        `;
        container.appendChild(div);
      });
    });
</script>
</body>
<script src="scripts/components.js"></script>
</html>
